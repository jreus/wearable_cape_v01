Version 4
SHEET 1 1612 1468
WIRE 224 80 96 80
WIRE 432 80 288 80
WIRE -400 144 -400 80
WIRE 352 176 352 144
WIRE 320 192 240 192
WIRE 432 208 432 80
WIRE 432 208 384 208
WIRE 480 208 432 208
WIRE 576 208 544 208
WIRE 608 208 576 208
WIRE 0 224 -96 224
WIRE 96 224 96 80
WIRE 96 224 80 224
WIRE 112 224 96 224
WIRE 240 224 240 192
WIRE 240 224 192 224
WIRE 320 224 288 224
WIRE -400 240 -400 224
WIRE -272 240 -400 240
WIRE -96 240 -96 224
WIRE 576 256 576 208
WIRE -400 272 -400 240
WIRE 240 272 240 224
WIRE 288 288 288 224
WIRE 432 288 432 208
WIRE 432 288 288 288
WIRE 352 336 352 240
WIRE -96 368 -96 320
WIRE 240 368 240 336
WIRE -400 384 -400 352
WIRE 112 592 -96 592
WIRE 432 608 304 608
WIRE 640 608 496 608
WIRE 112 640 112 592
WIRE 560 704 560 672
WIRE 528 720 448 720
WIRE 640 736 640 608
WIRE 640 736 592 736
WIRE 688 736 640 736
WIRE 784 736 752 736
WIRE 816 736 784 736
WIRE 112 752 112 720
WIRE 208 752 112 752
WIRE 304 752 304 608
WIRE 304 752 288 752
WIRE 320 752 304 752
WIRE 448 752 448 720
WIRE 448 752 400 752
WIRE 528 752 496 752
WIRE -96 768 -96 592
WIRE 112 784 112 752
WIRE 784 784 784 736
WIRE 448 800 448 752
WIRE 496 816 496 752
WIRE 640 816 640 736
WIRE 640 816 496 816
WIRE 560 864 560 768
WIRE -96 896 -96 848
WIRE 448 896 448 864
WIRE 112 912 112 864
WIRE 112 1040 -96 1040
WIRE 432 1056 304 1056
WIRE 640 1056 496 1056
WIRE 112 1088 112 1040
WIRE 560 1152 560 1120
WIRE 528 1168 448 1168
WIRE 640 1184 640 1056
WIRE 640 1184 592 1184
WIRE 688 1184 640 1184
WIRE 784 1184 752 1184
WIRE 816 1184 784 1184
WIRE 112 1200 112 1168
WIRE 208 1200 112 1200
WIRE 304 1200 304 1056
WIRE 304 1200 288 1200
WIRE 320 1200 304 1200
WIRE 448 1200 448 1168
WIRE 448 1200 400 1200
WIRE 528 1200 496 1200
WIRE -96 1216 -96 1040
WIRE 112 1232 112 1200
WIRE 784 1232 784 1184
WIRE 448 1248 448 1200
WIRE 496 1264 496 1200
WIRE 640 1264 640 1184
WIRE 640 1264 496 1264
WIRE 560 1312 560 1216
WIRE -96 1344 -96 1296
WIRE 448 1344 448 1312
WIRE 112 1360 112 1312
FLAG -400 80 V+
FLAG -400 384 0
FLAG -272 240 PE
FLAG 240 368 PE
FLAG -96 368 PE
FLAG 608 208 OUT_RAW
FLAG 576 336 0
FLAG 352 336 0
FLAG 352 144 V+
FLAG 448 896 PE
FLAG -96 896 PE
FLAG 816 736 OUT_ATT
FLAG 784 864 0
FLAG 560 864 0
FLAG 560 672 V+
FLAG 112 912 PE
FLAG 448 1344 PE
FLAG -96 1344 0
FLAG 816 1184 OUT_470
FLAG 784 1312 0
FLAG 560 1312 0
FLAG 560 1120 V+
FLAG 112 1360 PE
SYMBOL res 208 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 28.7K
SYMBOL res 96 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 28.7K
SYMBOL cap 224 272 R0
SYMATTR InstName C1
SYMATTR Value 220pF
SYMBOL cap 288 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 440pF
SYMBOL cap 544 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1µF
SYMBOL voltage -400 128 R0
SYMATTR InstName V1
SYMATTR Value 3.2V
SYMBOL voltage -400 256 R0
SYMATTR InstName V2
SYMATTR Value 1.8V
SYMBOL voltage -96 224 R0
WINDOW 123 24 118 Left 2
SYMATTR Value2 AC 2.45V 0
SYMATTR InstName V3
SYMATTR Value ""
SYMBOL res 560 240 R0
SYMATTR InstName LOAD
SYMATTR Value 100k
SYMBOL EL5220C 368 160 R0
SYMATTR InstName U1
SYMBOL res 416 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 28.7K
SYMBOL res 304 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 28.7K
SYMBOL cap 432 800 R0
SYMATTR InstName C4
SYMATTR Value 220pF
SYMBOL cap 496 592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 440pF
SYMBOL cap 752 720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 1µF
SYMBOL voltage -96 752 R0
WINDOW 123 24 118 Left 2
SYMATTR Value2 AC 2.45V 0
SYMATTR InstName V4
SYMATTR Value ""
SYMBOL res 768 768 R0
SYMATTR InstName LOAD1
SYMATTR Value 100k
SYMBOL EL5220C 576 688 R0
SYMATTR InstName U2
SYMBOL res 96 624 R0
SYMATTR InstName R5
SYMATTR Value 150K
SYMBOL res 96 768 R0
SYMATTR InstName R6
SYMATTR Value 200K
SYMBOL res 416 1184 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 28.7K
SYMBOL res 304 1184 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 28.7K
SYMBOL cap 432 1248 R0
SYMATTR InstName C7
SYMATTR Value 220pF
SYMBOL cap 496 1040 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 470pF
SYMBOL cap 752 1168 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 1µF
SYMBOL voltage -96 1200 R0
WINDOW 123 24 118 Left 2
WINDOW 3 24 38 Left 2
SYMATTR Value2 AC 2.45V 0
SYMATTR InstName V5
SYMATTR Value SINE(2.35 2.35 1000 0 0 0 20)
SYMBOL res 768 1216 R0
SYMATTR InstName LOAD2
SYMATTR Value 100k
SYMBOL EL5220C 576 1136 R0
SYMATTR InstName U3
SYMBOL res 96 1072 R0
SYMATTR InstName R9
SYMATTR Value 150K
SYMBOL res 96 1216 R0
SYMATTR InstName R10
SYMATTR Value 200K
TEXT -440 456 Left 2 !*.op\n*.ac lin 100 0.1 20000\n.tran 0 10ms\n.inc "./models/el5220.txt"
TEXT -120 432 Left 2 ;Above is a model of the low pass filter used on the Bela audio cape.\nThe input signal is 4.7V peak-to-peak\nThe output signal has the same swing\nThis filter has a cutoff of around 17823.81Hz\nThe original op-amp used in the audio cape is a OPA4348 (the ADD8704 is just for the Eagle footprint). \nThe EL5420 is a similar op-amp which could also be used, the most important factor is Rail-to-Rail operation.
TEXT -40 984 Left 2 ;Let's try and make a filter that also attenuates the 0-4.7V signal to 3V peak-2-peak
TEXT -40 1432 Left 2 ;This is the same filter but uses more easily available 470pF caps.\nIt has a very similar bode curve to the 440pF version
