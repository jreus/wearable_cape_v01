Version 4
SHEET 1 1612 1384
WIRE 144 240 16 240
WIRE 352 240 208 240
WIRE 272 336 272 304
WIRE 240 352 160 352
WIRE 352 368 352 240
WIRE 352 368 304 368
WIRE 400 368 352 368
WIRE 496 368 464 368
WIRE 528 368 496 368
WIRE -80 384 -176 384
WIRE 16 384 16 240
WIRE 16 384 0 384
WIRE 32 384 16 384
WIRE 160 384 160 352
WIRE 160 384 112 384
WIRE 240 384 208 384
WIRE -176 400 -176 384
WIRE 496 416 496 368
WIRE 160 432 160 384
WIRE 208 448 208 384
WIRE 352 448 352 368
WIRE 352 448 208 448
WIRE 272 496 272 400
WIRE -176 528 -176 480
WIRE 160 528 160 496
WIRE -400 720 -400 656
WIRE -400 816 -400 800
WIRE -272 816 -400 816
WIRE 112 816 -96 816
WIRE 432 832 304 832
WIRE 640 832 496 832
WIRE -400 848 -400 816
WIRE 112 864 112 816
WIRE 560 928 560 896
WIRE 528 944 448 944
WIRE -400 960 -400 928
WIRE 640 960 640 832
WIRE 640 960 592 960
WIRE 688 960 640 960
WIRE 784 960 752 960
WIRE 816 960 784 960
WIRE 112 976 112 944
WIRE 208 976 112 976
WIRE 304 976 304 832
WIRE 304 976 288 976
WIRE 320 976 304 976
WIRE 448 976 448 944
WIRE 448 976 400 976
WIRE 528 976 496 976
WIRE -96 992 -96 816
WIRE 112 1008 112 976
WIRE 784 1008 784 960
WIRE 448 1024 448 976
WIRE 496 1040 496 976
WIRE 640 1040 640 960
WIRE 640 1040 496 1040
WIRE 560 1088 560 992
WIRE -96 1120 -96 1072
WIRE 448 1120 448 1088
WIRE 112 1136 112 1088
FLAG -400 656 V+
FLAG -400 960 0
FLAG -272 816 PE
FLAG 160 528 PE
FLAG -176 528 PE
FLAG 528 368 OUT_RAW
FLAG 496 496 0
FLAG 272 496 0
FLAG 272 304 V+
FLAG 448 1120 PE
FLAG -96 1120 PE
FLAG 816 960 OUT_ATT
FLAG 784 1088 0
FLAG 560 1088 0
FLAG 560 896 V+
FLAG 112 1136 PE
SYMBOL res 128 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 28.7K
SYMBOL res 16 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 28.7K
SYMBOL cap 144 432 R0
SYMATTR InstName C1
SYMATTR Value 220pF
SYMBOL cap 208 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 440pF
SYMBOL cap 464 352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1µF
SYMBOL voltage -400 704 R0
SYMATTR InstName V1
SYMATTR Value 3.2V
SYMBOL voltage -400 832 R0
SYMATTR InstName V2
SYMATTR Value 1.8V
SYMBOL voltage -176 384 R0
WINDOW 123 24 118 Left 2
SYMATTR Value2 AC 2.45V 0
SYMATTR InstName V3
SYMATTR Value ""
SYMBOL res 480 400 R0
SYMATTR InstName LOAD
SYMATTR Value 100k
SYMBOL EL5220C 288 320 R0
SYMATTR InstName U1
SYMBOL res 416 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 28.7K
SYMBOL res 304 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 28.7K
SYMBOL cap 432 1024 R0
SYMATTR InstName C4
SYMATTR Value 220pF
SYMBOL cap 496 816 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 440pF
SYMBOL cap 752 944 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 1µF
SYMBOL voltage -96 976 R0
WINDOW 123 24 118 Left 2
SYMATTR Value2 AC 2.45V 0
SYMATTR InstName V4
SYMATTR Value ""
SYMBOL res 768 992 R0
SYMATTR InstName LOAD1
SYMATTR Value 100k
SYMBOL EL5220C 576 912 R0
SYMATTR InstName U2
SYMBOL res 96 848 R0
SYMATTR InstName R5
SYMATTR Value 150K
SYMBOL res 96 992 R0
SYMATTR InstName R6
SYMATTR Value 200K
TEXT -112 32 Left 2 !.ac lin 100 0.1 20000\n.inc "./models/el5220.txt"
TEXT -200 592 Left 2 ;Above is a model of the low pass filter used on the Bela audio cape.\nThe input signal is 4.7V peak-to-peak\nThe output signal has the same swing\nThis filter has a cutoff of around 17823.81Hz\nThe original op-amp used in the audio cape is a OPA4348 (the ADD8704 is just for the Eagle footprint). \nThe EL5420 is a similar op-amp which could also be used, the most important factor is Rail-to-Rail operation.
TEXT 32 1368 Left 2 ;Let's try and make a filter that also attenuates the 0-4.7V signal to 3V peak-2-peak
